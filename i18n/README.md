# novelWriter Internationalisation

The `i18n` folder contains the internationalisation files for novelWriter.
There are two types of files. The `nw_XX.ts` / `nw_XX.qm` files are for
localisation of the main GUI, and the `project_XX.json` files are JSON files
with translation maps for the novelWriter projects, used by the Build Novel
Project tool.

## GUI Localisation

The `.qm` files are the actual files used by the application to translate the
GUI into another language other than the default British English. The files are
not generated by default. They can be built with:
```bash
python3 setup.py qtlrelease
```

To add a new translation file, first add a new entry in the `novelWriter.pro`
file under the `TRANSLATIONS` variable. Please use the underscore syntax for
file names as the importer expects this format.

After adding the entry in the `.pro` file, run:
```bash
python3 setup.py qtlupdate
```

This will build a new `nw_XX.ts` file for the language you just added. The file
can then be edited with the Qt 5 Linguist application provided by Qt. This is
by far easier than manually editing the `.ts` file. Please select "English" and
"United Kingdom" as the source langauge when prompted by Qt 5 Linguist.

When you're done editing, you can build the `nw_XX.qm` file and test it in
novelWriter. The Preferences dialog should list the newly added language, and
you can select it and test it.

Please do not submit the `.qm` files to the repository. Only the `.ts` files
are needed.

**Note:** This requires that you have the tools Qt 5 Linguist and `pylupdate5`
installed on your system.

## Project Localisation

Projects can have a different language setting than the GUI itself. The files
with format `project_XX.json` are simple translation maps for text that goes
into the exported documents generated by the Build Novel Project tool.

The files are loaded based on the language setting on the build tool. At the
present time, no other parts of the application use these files. Since these
are used as replacement lookups, they are maintained as plain JSON files. The
main usage is to generate chapter headers as number words.

There is no trick to using these files. Just copy the `project_en.json` file,
rename it to the appropriate language coded filename, and edit it. Please use
the underscore as separator if a language needs to be localised to a specific
country under a language. The importer will for instance look for `en_US`
first, then use `en` if it is not found. If there are no matching files, the
project falls back to using English.
